---
import "@/styles/global.css";
import Navbar from "@/components/Navbar.astro";
import Footer from "@/components/Footer.astro";

import CookieBanner from "@/components/CookieBanner.tsx";

interface Props {
	title: string;
	description: string;
}
const { title, description } = Astro.props;

const pathname = Astro.url.pathname;
const localeFromPath = pathname.split("/")[1];
const supportedLocales = ["de", "en", "fr"];

const currentLocale = supportedLocales.includes(localeFromPath) ? localeFromPath : "de";
---

<!doctype html>
<html lang={currentLocale}>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<slot name="preload" />
		<link
			rel="preload"
			href="/_astro/agb.CzKZVwx4.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link rel="stylesheet" href="/_astro/agb.CzKZVwx4.css" /></noscript
		>
		<meta name="description" content={description} />
		<title>{title}</title>
	</head>
	<body>
		<CookieBanner client:load currentLocale={currentLocale} />
		<Navbar />
		<main class="pb-15">
			<slot />
		</main>
		<Footer />
	</body>
</html>

<style is:global>
	html {
		background:#1974AF;
		color: white;
		color-scheme: dark light;
		margin: 0;
		padding: 0;
		min-height: 100%;
	}
	body {
		overflow-x: hidden;
		margin: 0;
		padding: 0;
		min-height: 100%;
	}
</style>
